# Conversion to YAML from Properties formar report
# Warnings:
# - The yaml file had comments which are lost in the refactoring!
spring:
  application:
    name: order-service
  datasource:
    url: jdbc:postgresql://localhost:5432/order_db
    username: sumu
    password: '""'
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    database-platform: org.hibernate.dialect.PostgreSQLDialect
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: always
server:
  port: 8081

resilience4j:
 circuitbreaker:
  instances:
    paymentService:   # logical name (ANY name, but must match in code)
    registerHealthIndicator: true
    slidingWindowSize: 10     # last 10 calls
    minimumNumberOfCalls: 5   # start evaluating after 5 calls
    failureRateThreshold: 50  # if 50% calls fail â†’ OPEN circuit
    waitDurationInOpenState: 10s  # stay OPEN for 10 seconds
    permittedNumberOfCallsInHalfOpenState: 3
    automaticTransitionFromOpenToHalfOpenEnabled: true

retry:
instances:
paymentService:
maxAttempts: 3       # 1 original + 2 retries
waitDuration: 2s     # wait 2 sec between retries


eureka:
  client:
   service-url:
    defaultZone: http://localhost:8761/eureka/
